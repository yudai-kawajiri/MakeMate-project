# 機密情報・環境変数
# データベースパスワードやAPIキーなどの機密情報を保護
.env                    # メインの環境変数ファイル（DATABASE_URL、APIキーなど超重要）
.env.local              # ローカル開発専用の環境変数（個人的な設定やテスト用の値）
.env.development        # 開発環境専用の環境変数（開発用データベースの接続情報など）
.env.test               # テスト環境専用の環境変数（テスト用データベースやモックAPIの設定）
.env.production         # 本番環境専用の環境変数（本番データベースや本番APIキーなど最重要機密）
.env.*.local            # 全ての.env.何々.localファイルを除外（個人用のローカル設定全般）

#  Rails暗号化キー
# Rails の暗号化に使用される重要なキーファイル
/config/master.key      # Rails 5.2以降のマスター暗号化キー（credentials.yml.encを復号化する超重要ファイル）
/config/credentials/*.key # 環境別の暗号化キーファイル全て（production.key、development.keyなど）

#  Docker関連
# 個人用のDocker設定オーバーライドファイル
docker-compose.override.yml # 個人的なDocker設定（ポート番号変更や個人用ボリュームマウントなど）

# OS固有ファイル
# macOS
.DS_Store               # Finderが自動生成するフォルダ情報ファイル（表示設定やアイコン位置を保存）
.DS_Store?              # 破損した.DS_Storeファイル（ファイルシステムエラー時に生成される）
._*                     # macOSのリソースフォーク（メタデータや拡張属性を保存する隠しファイル）
.Spotlight-V100         # Spotlight検索のインデックスファイル（検索高速化のためのデータベース）
.Trashes                # macOSのゴミ箱フォルダ（削除したファイルの一時保存場所）

# Windows
ehthumbs.db             # Windowsのサムネイル画像キャッシュ（エクスプローラーの画像プレビュー用）
Thumbs.db               # 古いWindowsのサムネイルデータベース（フォルダ内画像の縮小版を保存）
desktop.ini             # Windowsのフォルダカスタマイズ設定（アイコンや表示名の設定ファイル）

# Linux
*~                      # Linuxエディタのバックアップファイル（編集前の内容を自動保存）
.directory              # KDE（Linux GUI）のフォルダ設定ファイル（表示設定やソート順を保存）

# エディタ・IDE設定
# Visual Studio Code
.vscode/                # VS Codeのワークスペース設定フォルダ（個人的なデバッグ設定や拡張機能設定）

# IntelliJ IDEA / RubyMine
.idea/                  # IntelliJ IDEAやRubyMineの設定フォルダ（プロジェクト設定やインデックス情報）

# Vim
*.swp                   # Vimのスワップファイル（編集中ファイルの一時保存・クラッシュ対策）
*.swo                   # Vimの別パターンスワップファイル（複数同時編集時に生成）
*~                      # Vimのバックアップファイル（保存前の内容を自動保存）

# Emacs
*~                      # Emacsのバックアップファイル（編集前の状態を保存）
\#*\#                   # Emacsの自動保存ファイル（一定間隔で自動的に内容を保存）
/.emacs.desktop         # Emacsのデスクトップセッション情報（開いていたファイルや設定を保存）
/.emacs.desktop.lock    # Emacsデスクトップセッションのロックファイル（重複起動防止）

#  Rails関連ファイル
# ログファイル（開発中に大量生成される）
/log/*                  # Railsの全ログファイル（development.log、test.log、production.logなど）
!/log/.keep             # .keepファイルは除外しない（空のlogディレクトリを維持するためのファイル）

# 一時ファイル
/tmp/*                  # Rails一時ファイル全て（セッション、キャッシュ、PIDファイルなど）
!/tmp/.keep             # tmpディレクトリ維持用の.keepファイルは残す
!/tmp/pids/             # PID（プロセスID）ディレクトリは残す（サーバープロセス管理に必要）
!/tmp/pids/.keep        # PIDディレクトリ維持用の.keepファイルも残す

# アップロードファイル（ユーザーが投稿する画像など）
/storage/*              # Active Storageのファイル（ユーザーがアップロードした画像や動画）
!/storage/.keep         # storageディレクトリ維持用の.keepファイルは残す
/tmp/storage/*          # 一時的なアップロードファイル
!/tmp/storage/          # 一時storageディレクトリは残す
!/tmp/storage/.keep     # 一時storage用の.keepファイルも残す

# 公開アセット（コンパイル済みCSS/JS）
/public/assets          # プリコンパイルされたアセット（本番用に最適化されたCSS/JS）
/public/packs           # Webpackerの出力ファイル（バンドルされたJavaScript）
/public/packs-test      # テスト用のWebpackerファイル

# Bundle設定
/.bundle                # Bundlerの設定ディレクトリ（Gem管理の設定情報）
/vendor/bundle          # インストール済みGemファイル（bundle install --pathで指定した場合）

#  Node.js関連（Rails 7でImportmapsやTurboを使う場合）
node_modules/           # npmパッケージディレクトリ（数万ファイルの巨大フォルダ）
npm-debug.log*          # npmのデバッグログファイル（エラー発生時に生成）
yarn-debug.log*         # Yarnのデバッグ

# Ignore master key for decrypting credentials and more.
/config/master.key

/app/assets/builds/*
!/app/assets/builds/.keep
